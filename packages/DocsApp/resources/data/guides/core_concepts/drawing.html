<html>
<head>
    <title>Draw Package</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../css/app.css">
</head>
<body>
<div class="contents"><h1 id="core_concepts-_-drawing_-_introduction_to_the_draw_package">Introduction to the Draw Package</h1>
<p>The drawing package enables you to draw general purpose graphics and animations.  These creations 
can be used with the charting classes and other interfaces to create graphics that work on all 
browsers and mobile devices. This guide show introduce you to the basic principles of 
the Drawing package.</p>
<h2 id="core_concepts-_-drawing_-_draw_container">Draw Container</h2>
<p>The Draw Container is a surface to which sprites can be rendered. The Draw Container manages 
and holds a Surface instance.  Depending on the browser, this interface has an SVG or Canvas 
implementation where Sprites can be appended. </p>
<h2 id="core_concepts-_-drawing_-_drawing_surface">Drawing Surface</h2>
<p>You can create a simple drawing surface without loading the Charting package 
at all. This enables you to create arbitrary graphics that work on all 
browsers/devices and animate well. For example, you could create an interactive 
map of the United States where each state is a sprite, or an infographic where 
each element is also a sprite. Sprites give you an effective manner to create 
imagery with helpful interactivity.  Also, because the images are Canvas and 
SVG based, they will never lose quality when sized or scaled.  This ensures 
that will always look &quot;right&quot; and wil be printed correctly 100% of the time.</p>
<p>In order to use the Draw package directly, you need to create a Draw Container.</p>
<pre><code>Ext.create(&#39;Ext.draw.Container&#39;, {
    sprites: [{
        type: &#39;circle&#39;,
        fillStyle: &#39;red&#39;,
        r: 100,
        cx: 100,
        cy: 100
    }],
    height:205,
    width:205,
    renderTo:Ext.getBody()
});
</code></pre><p>In this case, we&#39;ve added a sprite to our Draw container. The type
of the sprite is circle so if you run this code you&#39;ll see a 
red circle appear in your browser. </p>
<p>You can also add sprites by using the surface&#39;s add method:</p>
<pre><code>var main = Ext.create(&#39;Ext.draw.Container&#39;, {
    height:500,
    width: 500,
    renderTo:Ext.getBody()
});

main.getSurface().add({
    type: &#39;circle&#39;,
    fillStyle: &#39;red&#39;,
    r: 100,
    cx: 100,
    cy: 100
});    

main.renderFrame();
</code></pre><p><strong>Note:</strong> Additions and deletions from a surface are not immediately seen.  You must forcibly 
re-render the surface in order to realize your modifications.  This is why we use renderFrame() above.</p>
<h2 id="core_concepts-_-drawing_-_sprites">Sprites</h2>
<p>A sprite is an object rendered in a drawing Surface. They 
are added to a surface in the getItems() collection.  Ext.draw.sprite.Sprite 
is an abstract class and is not meant to be used directly. Instead, 
use the standard Sprite subclasses listed below: </p>
<ul>
<li>[[ext:Ext.draw.sprite.Path]] - A sprite that represents a path.</li>
<li>[[ext:Ext.draw.sprite.Rect]] - A sprite that represents a rectangle.</li>
<li>[[ext:Ext.draw.sprite.Circle]] - A sprite that represents a circle.</li>
<li>[[ext:Ext.draw.sprite.Sector]] - A sprite representing a pie slice.</li>
<li>[[ext:Ext.draw.sprite.Arc]] - A sprite that represents a circular arc.</li>
<li>[[ext:Ext.draw.sprite.Ellipse]] - A sprite that represents an ellipse.</li>
<li>[[ext:Ext.draw.sprite.EllipticalArc]] - A sprite that represents an elliptical arc.</li>
<li>[[ext:Ext.draw.sprite.Text]] - A sprite that represents text.</li>
<li>[[ext:Ext.draw.sprite.Image]] - A sprite that represents an image.</li>
<li>[[ext:Ext.draw.sprite.Instancing]] - A sprite that represents multiple instances based on the given template.</li>
<li>[[ext:Ext.draw.sprite.Composite]] - Represents a group of sprites.</li>
</ul>
<p>The configuration of a Sprite is an object with the following properties:</p>
<ul>
<li>type - (String) The type of the sprite. Possible options are &#39;circle&#39;, &#39;path&#39;, &#39;rect&#39;, &#39;text&#39;, &#39;square&#39;.</li>
<li>width - (Number) Used in rectangle sprites, the width of the rectangle.</li>
<li>height - (Number) Used in rectangle sprites, the height of the rectangle.</li>
<li>size - (Number) Used in square sprites, the dimension of the square.</li>
<li>radius - (Number) Used in circle sprites, the radius of the circle.</li>
<li>x - (Number) The position along the x-axis.</li>
<li>y - (Number) The position along the y-axis.</li>
<li>path - (Array) Used in path sprites, the path of the sprite written in SVG-like path syntax.</li>
<li>opacity - (Number) The opacity of the sprite.</li>
<li>fill - (String) The fill color.</li>
<li>stroke - (String) The stroke color.</li>
<li>stroke-width - (Number) The width of the stroke.</li>
<li>font - (String) Used with text type sprites. The full font description. Uses the same syntax as the CSS font parameter.</li>
<li>text - (String) Used with text type sprites. The text itself.</li>
</ul>
<p>Additionally there are three transform objects that can be set 
with setAttributes.  These transform objects are 
translate, rotate, and scale.</p>
<h3 id="core_concepts-_-drawing_-_drawing_with_svg_paths">Drawing with SVG Paths</h3>
<p>As mentioned above, sprite items accept a path value for creating custom sprites that may exceed
the complexity of our pre-defined sprite types.  You may use special SVG Path syntax to &quot;describe&quot; the
drawing path.  Here are the SVG path commands:</p>
<ul>
<li>M = moveto</li>
<li>L = lineto</li>
<li>H = horizontal lineto</li>
<li>V = vertical lineto</li>
<li>C = curveto</li>
<li>S = smooth curveto</li>
<li>Q = quadratic Bézier curve</li>
<li>T = smooth quadratic Bézier curveto</li>
<li>A = elliptical Arc</li>
<li>Z = closepath</li>
</ul>
<p><strong>Note:</strong> Capital letters indicate that the item should be absolutely positioned. 
Use lower case letters for relative positioning.</p>
<pre><code>Ext.create(&#39;Ext.draw.Container&#39;, {
    renderTo: Ext.getBody(),
    width: 300,
    height:200,
    sprites: [{
        type: &#39;path&#39;,
        path: &#39;M150 0 L25 100 L300 100 Z&#39;,
        strokeStyle: &#39;#333&#39;,
        fill: &#39;#999&#39;,
        lineWidth: 2
    }]
});
</code></pre><p>You can see that the above path creates a triangle.</p>
<pre><code>M150 0 L25 100 L300 100 Z
</code></pre><p>This reads as: </p>
<ul>
<li>M150 0 - Move 150 pixels from the starting point on the x axis, while staying 
at 0 on the y axis.  This makes our origin (150,0).</li>
<li>L25 100 - Draw a line from the starting point (150,0) to (25,100)</li>
<li>L300 100 - Draw a line from the last point (25,100) to (300,100)</li>
<li>Z - Close the path by drawing a line from the last point (300,100) to the origin (150,0)</li>
</ul>
<h3 id="core_concepts-_-drawing_-_translate">Translate</h3>
<p>Translate can be used to position your sprite after it&#39;s been 
rendered.  This configuration object contains x and y attributes for 
the translation. For example:</p>
<pre><code>var main = Ext.create(&#39;Ext.draw.Container&#39;, {
    height:205,
    width:205,
    sprites: [{
        type: &#39;rect&#39;,
        fillStyle: &#39;red&#39;,
        width: 100,
        height:100,
        translate: {
            x:10,
            y:10
        }
    }], 
    renderTo:Ext.getBody()
});
</code></pre><h3 id="core_concepts-_-drawing_-_rotate">Rotate</h3>
<p>Rotate can be used to rotate a sprite.  The configuration 
object contains x and y attributes for the center of the 
rotation (which are optional), and a degrees attribute that 
specifies the rotation in degrees. For example:</p>
<pre><code>var main = Ext.create(&#39;Ext.draw.Container&#39;, {
    height:205,
    width:205,
    sprites: [{
        type: &#39;rect&#39;,
        fillStyle: &#39;red&#39;,
        width: 100,
        height:100,
        rotate: {
            degrees: 45
        }
    }], 
    renderTo:Ext.getBody()
});
</code></pre><h3 id="core_concepts-_-drawing_-_scale">Scale</h3>
<p>Scale can be used to dynamically resize your sprite.  For scale, the 
configuration object contains x and y attributes for the 
x-axis and y-axis scaling. For example:</p>
<pre><code>var main = Ext.create(&#39;Ext.draw.Container&#39;, {
    height:305,
    width:305,
    sprites: [{
        type: &#39;rect&#39;,
        fillStyle: &#39;red&#39;,
        width: 100,
        height:100,
        scale: {
            x: 3,
            y: 3
        }
    }], 
    renderTo:Ext.getBody()
});
</code></pre><h2 id="core_concepts-_-drawing_-_interacting_with_a_sprite">Interacting with a Sprite</h2>
<p>Now that we&#39;ve created a draw surface with a sprite in it, let&#39;s 
dive into sprite interactivity. We can get a reference to the sprite 
after adding that sprite to the surface:</p>
<pre><code>var main = Ext.create(&#39;Ext.draw.Container&#39;, {
    sprites: [{
        type: &#39;rect&#39;,
        width: 100,
        height: 100,
        fillStyle: &#39;red&#39;
    }],
    height:205,
    width:205,
    renderTo:Ext.getBody(),
    listeners: {
        afterrender: function(me){
            var surface = me.getSurface(),
                sprite = surface.getItems()[0];

            sprite.setAttributes({
                fillStyle:&#39;black&#39;
            });

            Ext.create(&#39;Ext.fx.Anim&#39;, {
                target: surface,
                duration: 8000,
                to: {
                    opacity: .5
                }
            });                  
        }
    }
});
</code></pre><p>In the above example, you can see how to set sprite attributes 
and animate these attributes using the draw package. </p>
<p>As you can see, this package provides is a versatile abstraction 
over the graphics we can create. What&#39;s most interesting about this 
class is that we aren&#39;t tied to a specific shape or structure.  Also, all 
elements support setting attributes and creating animations. Most 
important, all of this is compatible in all browsers and devices.</p>
</div>

    <div class="toc">
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_draw_container">Draw Container</a></div>
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_drawing_surface">Drawing Surface</a></div>
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_sprites">Sprites</a></div>
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_drawing_with_svg_paths">Drawing with SVG Paths</a></div>
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_translate">Translate</a></div>
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_rotate">Rotate</a></div>
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_scale">Scale</a></div>
        <div class="toc-item"><a href="#core_concepts-_-drawing_-_interacting_with_a_sprite">Interacting with a Sprite</a></div>
    </div>
</body>
</html>
